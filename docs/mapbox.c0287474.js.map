{"version":3,"sources":["scripts/mapbox.js"],"names":["_map","_centerLat","_centerLng","_dataFile","require","_accessToken","_mapStyle","init","addSource","type","data","addLayer","id","source","paint","on","e","features","queryRenderedFeatures","point","layers","length","feature","mapboxgl","Popup","setLngLat","unproject","setHTML","properties","image","AdjustedSa","Address","PropType","addTo","accessToken","Map","container","style","center","zoom","once","addControl","NavigationControl"],"mappings":";;;AAAA,IAAIA,EAAO,KACLC,EAAa,GACbC,EAAa,MACbC,EAAYC,QAAQ,+BACpBC,EACJ,+FACIC,EAAY,mCAUlB,SAASC,IACPP,EAAKQ,UAAU,iBAAkB,CAC/BC,KAAM,UACNC,KAAMP,IAGRH,EAAKW,SAAS,CACZC,GAAI,UACJH,KAAM,SACNI,OAAQ,iBACRC,MAAO,CACW,eAAA,SACC,gBAAA,EACM,sBAAA,KAI3Bd,EAAKe,GAAG,QAAS,SAASC,GAClBC,IAAAA,EAAWjB,EAAKkB,sBAAsBF,EAAEG,MAAO,CACnDC,OAAQ,CAAC,aAEP,GAACH,EAASI,OAGRC,CAAAA,IAAAA,EAAUL,EAAS,IACX,IAAIM,SAASC,OACxBC,UAAUzB,EAAK0B,UAAUV,EAAEG,QAC3BQ,QACC,iBAEEL,EAAQM,WAAWC,MACnB,wBAEAP,EAAQM,WAAWE,WACnB,4BAEAR,EAAQM,WAAWG,QACnB,kCAEAT,EAAQM,WAAWI,SACnB,kBAGHC,MAAMjC,MAnDbuB,SAASW,YAAc7B,GACvBL,EAAO,IAAIuB,SAASY,IAAI,CACtBC,UAAW,MACXC,MAAO/B,EACPgC,OAAQ,CAACpC,EAAYD,GACrBsC,KAAM,OAoDHC,KAAK,aAAc,SAASxB,GAC/BT,IACAP,EAAKyC,WAAW,IAAIlB,SAASmB","file":"mapbox.c0287474.js","sourceRoot":"../src","sourcesContent":["let _map = null\nconst _centerLat = 40\nconst _centerLng = 116.5\nconst _dataFile = require('/data/detector_dots.geojson')\nconst _accessToken =\n  'pk.eyJ1IjoieGlhb2xlaWFvIiwiYSI6ImNqdzc4YTltNzJic3c0OHFxeWhlZDVodGkifQ.fq-KOXgjoJwsGRBsfqmy6w'\nconst _mapStyle = 'mapbox://styles/mapbox/light-v10'\n\nmapboxgl.accessToken = _accessToken\n_map = new mapboxgl.Map({\n  container: 'map',\n  style: _mapStyle,\n  center: [_centerLng, _centerLat],\n  zoom: 7.9\n})\n\nfunction init() {\n  _map.addSource('markers-source', {\n    type: 'geojson',\n    data: _dataFile\n  })\n\n  _map.addLayer({\n    id: 'markers',\n    type: 'circle',\n    source: 'markers-source',\n    paint: {\n      'circle-color': 'orange',\n      'circle-radius': 4,\n      'circle-stroke-width': 0\n    }\n  })\n\n  _map.on('click', function(e) {\n    const features = _map.queryRenderedFeatures(e.point, {\n      layers: ['markers']\n    })\n    if (!features.length) {\n      return\n    }\n    const feature = features[0]\n    const popup = new mapboxgl.Popup()\n      .setLngLat(_map.unproject(e.point))\n      .setHTML(\n        '<ul>' +\n          '<img src=\"' +\n          feature.properties.image +\n          '\">' +\n          '<li>Sale price: <b>' +\n          feature.properties.AdjustedSa +\n          '</b></li>' +\n          '<li>Address: <b>' +\n          feature.properties.Address +\n          '</b></li>' +\n          '<li>Property type: <b>' +\n          feature.properties.PropType +\n          '</b></li>' +\n          '</ul>'\n      )\n      .addTo(_map)\n  })\n}\n\n// \"<h3>HOME SALES INFORMATION</h3>\" +\n\n_map.once('style.load', function(e) {\n  init()\n  _map.addControl(new mapboxgl.NavigationControl())\n})\n"]}